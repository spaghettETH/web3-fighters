{
  "rules": {
    "_auth": {
      ".read": true,
      ".write": true
    },
    
    "debates": {
      ".read": true,
      ".write": "root.child('_auth').child('passkey').exists() && (root.child('_auth').child('passkey').val() === 'BFethcc8' || root.child('_auth').child('passkey').val() === 'bfethcc8master')"
    },
    
    "votes": {
      ".read": true,
      ".write": "root.child('_auth').child('passkey').exists() && (root.child('_auth').child('passkey').val() === 'BFethcc8' || root.child('_auth').child('passkey').val() === 'bfethcc8master')",
      
      "$deviceId": {
        "$debateId": {
          ".validate": "newData.hasChildren(['deviceId', 'debateId', 'fighterId', 'timestamp'])",
          
          "deviceId": {
            ".validate": "newData.isString() && newData.val() === $deviceId"
          },
          "debateId": {
            ".validate": "newData.isNumber()"
          },
          "fighterId": {
            ".validate": "newData.isNumber()"
          },
          "timestamp": {
            ".validate": "newData.isNumber()"
          }
        }
      }
    }
  }
} 